<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<!-- This page was created with the build-github-pages.sh script found at 
	 https://github.com/mattrude/mattrude.github.com for 
	 http://gh.mattrude.com -->
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>gh.mattrude.com / RoundCube Fail2Ban Plugin</title>
	<link rel="stylesheet" type="text/css" href="./style.css" />
	<link rel="icon" href="http://github.com/favicon.ico" type="image/x-icon" />
</head>
<body>
<div id="content"><div id="primary" class="main">
<!-- Finished Header Section -->
<div id="title"><h1>RoundCube Fail2Ban Plugin <i> &mdash; </i> gh.mattrude.com</h1></div><div id="breadcrums"><p><a href="/">gh.mattrude.com</a> / <strong>RoundCube Fail2Ban Plugin</strong></p></div>

<p>RoundCube Fail2Ban Plugin is a small plugin that will display a failed login attempts in your syslog or userlogins log file. Using this information http://www.fail2ban.org<a href="http://www.fail2ban.org">Fail2Ban</a> will be able to block a user for a set amount of time. The best part, the block is happening at the IP level and blocks the IP address, not the user they are trying to log in as.</p>

<p>If you would like to help translating this plugin, or you see a problem with the current translation, please <a href="http://mattrude.com/contact-me/">contact me</a>.</p>

<p>This plugin dose not install or run Fail2Ban, but only provides the program with the needed log entries. Fail2Ban needs to be setup and running independent of this plugin and will watch roundcubes logs for failed logins.</p>

<p><a id=Download name=Download></a> </p>

<h2>Download</h2>

<p>The Current Version is 1.1 released on June, 19th 2011.</p>

<ul>
<li>RoundCube Fil2Ban Plugin - Version 1.1 - <a href="http://github.com/downloads/mattrude/rc-plugin-fail2ban/roundcube-fail2ban-plugin.1.1.tgz">tgz</a> | <a href="http://github.com/downloads/mattrude/rc-plugin-fail2ban/roundcube-fail2ban-plugin.1.1.zip">zip</a> | <a href="http://github.com/mattrude/rc-plugin-fail2ban/tree/1.1">git</a></li>
<li>RoundCube Fil2Ban Plugin - Version 1.0 - <a href="http://github.com/downloads/mattrude/rc-plugin-fail2ban/roundcube-fail2ban-plugin.1.0.tgz">tgz</a> | <a href="http://github.com/downloads/mattrude/rc-plugin-fail2ban/roundcube-fail2ban-plugin.1.0.zip">zip</a> | <a href="http://github.com/mattrude/rc-plugin-fail2ban/tree/1.0">git</a></li>
</ul>

<p>You can also clone the project with <a href="http://git-scm.com">Git</a> by running: </p>

<pre>$ git clone git://github.com/mattrude/rc-plugin-fail2ban.git fail2ban</pre> If your using git, make sure to hit the 

[rc-Plugin-Fail2Ban's github page][9]. 


<a id=Dependencies name=Dependencies></a> 
## Dependencies

[RoundCube][10] 3.0+


<a id=Install name=Install></a> 
## Installing

1.  Place this plugin folder into the RoundCube plugins directory (roundcube/plugins/)
2.  Add fail2ban to $rcmail_config['plugins'] in your RoundCube config

**Note:** When downloading this plugin from <http://github.com/mattrude/rc-plugin-fail2ban> you will need to create a directory called fail2ban and place fail2ban.php in there, ignoring the root directory in the downloaded archive. You may also run '**git clone git://github.com/mattrude/rc-plugin-fail2ban.git fail2ban**' from the plugins directory.


<a id=Setup name=Setup></a> 
## Setting Up

**fail2ban/jail.conf:**

<pre>[roundcube]
enabled  = true
port     = http,https
filter   = roundcube
action   = iptables-multiport[name=roundcube, port="http,https"]
logpath  = /var/www/html/roundcube/logs/userlogins</pre>

<p>Or oldschool used a configuration simmiler to:</p>

<pre>[roundcube]
# 0.3 and up plugin-support

enabled  = true
port     = http,https
filter   = roundcube
action   = iptables-multiport[name=roundcube, port="http,https"]
sendmail-whois[name=RC-Webmail, dest=you@example.com, sender=fail2ban]
logpath  = /srv/www/htdocs/webmail/logs/userlogins</pre>

<p><strong>fail2ban/filter.d/roundcube.conf:</strong></p>

<pre>[Definition]
failregex = FAILED login for .*. from &lt;HOST&gt;
ignoreregex =</pre>

<p><a id=License name=License></a> </p>

<h2>License</h2>

<p>This plugin is licensed under the <a href="http://www.gnu.org/licenses/gpl-3.0.txt">GPLv3</a>. A copy of the license also comes with every copy download.</p>

<pre>This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see &lt;http://www.gnu.org/licenses/>.</pre>

<p><a id=Authors name=Authors></a> </p>

<h2>Authors</h2>

<p><a href="http://mattrude.com/">Matt Rude</a> (m@mattrude.com)</p>

		<!-- Starting Comments Section -->
		<script type='text/javascript'>
	        var idcomments_acct = '4f5b5827534ac8f56be532bc26aab3bf';
	        var idcomments_post_id;
	        var idcomments_post_url;
		</script>
		<span id="IDCommentsPostTitle" style="display:none"></span>
		<script type='text/javascript' src='http://www.intensedebate.com/js/genericCommentWrapperV2.js'></script>
		<!-- Finished Comments Section -->
		<!-- Starting Footer Section -->
		<div id="footer">
			<div class="footer-left">
				<p><a href='/'>Home</a> | <a href='http://github.com/mattrude/'>Github Project List</a> | <a href='https://github.com/mattrude/rc-plugin-fail2ban'>Source</a> | <a href='https://github.com/mattrude/rc-plugin-fail2ban/issues'>Issues</a></p>
			</div>
			<div class="footer-right">
				<p>Copyright &copy; 2009 &mdash; 2012 by <a href='http://mattrude.com'>Matt Rude</a></p>
			</div>
		</div>
	</div>
</div>
</body>
</html>
